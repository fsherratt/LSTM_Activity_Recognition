definitions:
  - &LSTM-args
    units: 6
    return_sequences: true
    unroll: false
    stateful: false

layers:
  - type: lstm
    args:
      <<: *LSTM-args
      units: "@HP_LAYER_1_UNITS"

  - type: lstm
    args:
      <<: *LSTM-args
      units: 32

  - type: lstm
    args:
      <<: *LSTM-args
      units: 24

  - type: lstm
    args:
      <<: *LSTM-args
      units: 6

  - type: reshape
    args:
      target_shape:
        - 768

  - type: dropout
    args:
      rate: "@HP_DROPPOUT_RATE"

  - type: dense
    args:
      units: 4 # This needs to match activities

  - type: activation
    args:
      activation: "relu"
